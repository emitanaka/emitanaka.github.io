{
  "hash": "a193fb037fc5f929bde788c13bc2a399",
  "result": {
    "markdown": "---\ntitle: \"Affective colors in data visualisation\"\ndescription: |\n  This post extracts the colors and its frequency distribution from an experiment where participants were required to make a five color palette based on certain set of emotions. \ncategories: [color]\nauthor:\n  - name: Emi Tanaka\n    url: https://emitanaka.org\n    affiliation: Monash University\n    affiliation_url: https://numbat.space/\ndate: 2022-10-15\nengine: knitr\nformat:\n  html:\n    toc: true\n    toc_float: true\nexecute:\n  echo: true\n  warning: false\n  cache: true\nbibliography: ref.bib\n---\n\n\n@Bartram2017-nd conducted an experiment where participants were required to select 5 colors from a pool of available colors to make a **5 color palette** for a **bar plot** or **map** on a white background based on a set of emotive words, specifically \"calm\", \"disturbing\", \"exciting\", \"negative\", \"playful\", \"positive\", \"serious\" and \"trustworthy\". The result of this experiment presented in their paper is shown in table below.\n\naffect | frequency plot\n--- | ---\ncalm | <img src=\"calm.png\" width=\"40%\">\ndisturbing | <img src=\"disturbing.png\" width=\"40%\">\nexciting | <img src=\"exciting.png\" width=\"40%\">\nnegative | <img src=\"negative.png\" width=\"40%\">\nplayful | <img src=\"playful.png\" width=\"40%\">\npositive | <img src=\"positive.png\" width=\"40%\">\nserious | <img src=\"serious.png\" width=\"40%\">\ntrustworthy | <img src=\"trustworthy.png\" width=\"40%\">\n\nThe paper is quite interesting but I actually couldn't find the list of colors for each affect! So below is my simple analysis where I read in the image of the frequency plot, convert the colors to hex colors and remove white background to get the frequency of the colors. I plot then the top 10 colors for each affect. \n\n\n::: {.cell hash='index_cache/html/setup_a7660e52d989f61dcf03b8079f06cac3'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(png)\n# reads it as an 3d array where first two dimensions are\n# the location on the image \n# last dimension contains 4 columns which are r, g, b, alpha\nimgs <- list(calm = readPNG(\"calm.png\"),\n             disturbing = readPNG(\"disturbing.png\"),\n             exciting = readPNG(\"exciting.png\"),\n             negative = readPNG(\"negative.png\"),\n             playful = readPNG(\"playful.png\"),\n             positive = readPNG(\"positive.png\"),\n             serious = readPNG(\"serious.png\"),\n             trustworthy = readPNG(\"trustworthy.png\"))\n\ndims <- map(imgs, dim)\n# convert array to a matrix\nmats <- imap(imgs, ~matrix(.x, prod(dims[[.y]][1:2]), dims[[.y]][3]))\n\n# get the frequency of colors as a data frame\ncolors <- imap_dfr(mats, ~{\n                  res <- rgb(.x[, 1], .x[, 2], .x[, 3], .x[, 4])\n                  data.frame(color = res[res!=\"#FFFFFFFF\"]) \n                }, .id = \"affect\") %>% \n  count(affect, color) %>% \n  group_by(affect) %>% \n  mutate(prop = n / sum(n))\n```\n:::\n\n::: {.cell hash='index_cache/html/plot-colors_6b0e9cd9f495bba243731658d244e76b'}\n\n```{.r .cell-code}\nwalk(names(imgs), ~{\n  g <- colors %>% \n    filter(affect == .x) %>% \n    slice_max(prop, n = 10) %>% \n    mutate(color = fct_reorder(color, prop)) %>% \n    ggplot(aes(prop, color)) +\n      geom_col(aes(fill = I(color)), color = \"black\") + \n      labs(title = .x, x = \"Proportion\", y = \"\") +\n      scale_x_continuous(expand = c(0.01, 0)) +\n      theme(text = element_text(size = 14),\n            panel.background = element_blank(),\n            panel.grid.major.x = element_line(color = \"grey\", linetype = \"dashed\"),\n            axis.ticks.length = unit(0, \"mm\"))\n  print(g)\n})\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/plot-colors-1.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/plot-colors-2.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/plot-colors-3.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/plot-colors-4.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/plot-colors-5.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/plot-colors-6.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/plot-colors-7.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/plot-colors-8.png){width=672}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}