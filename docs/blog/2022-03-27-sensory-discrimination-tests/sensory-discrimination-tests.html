<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Emi Tanaka">
<meta name="dcterms.date" content="2022-07-30">
<meta name="description" content="Can Australians distinguish the true taste of Vegemite? Designing an experiment with sensory discrimination test using the edibble package.">

<title>emi tanaka - edibble experimental design with sensory discrimination tests</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/avatar.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-07SZXPNSJZ"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-07SZXPNSJZ', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../../assets/styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/avatar.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">emi tanaka</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../cv.html">
 <span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research/index.html">
 <span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching/index.html">
 <span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../talks/index.html">
 <span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog/index.html">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/statsgen"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml"><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">edibble experimental design with sensory discrimination tests</h1>
  <div class="quarto-categories">
    <div class="quarto-category">R</div>
    <div class="quarto-category">experimental design</div>
    <div class="quarto-category">edibble</div>
  </div>
  </div>

<div>
  <div class="description">
    <p>Can Australians distinguish the true taste of Vegemite? Designing an experiment with sensory discrimination test using the <code>edibble</code> package.</p>
  </div>
</div>

<style>
.quarto-title-meta {
  background-color: #f5e1eb;
  padding: 10px;
  border-radius: 10px;
  margin-top: 10px;
  color: #ad0059;
}
.quarto-title-meta a {
  color: #ad0059!important;
}
</style>
<div class="quarto-title-meta">

<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>

    <div class="quarto-title-meta-contents">
    <a href="https://emitanaka.org">Emi Tanaka</a> 
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Monash University
          </p>
      </div>
    </div>



    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 30, 2022</p>
    </div>
  </div>
  
  
  </div>


</header>

<p>This blog post attempts to describe the experimental design in <strong><span class="citation" data-cites="Williams2021-pa">Williams et al. (<a href="#ref-Williams2021-pa" role="doc-biblioref">2021</a>)</span></strong> for <strong>sensory discrimination test on vegemite</strong> using the <code>edibble</code> R package. Detailed descriptions are provided in <span class="citation" data-cites="Williams2021-pa">Williams et al. (<a href="#ref-Williams2021-pa" role="doc-biblioref">2021</a>)</span> and I only provide an abridged version in this blog, except where quoted.</p>
<p>First, I load the packages needed. The <code>edibble</code> package is currently only available on GitHub at https://github.com/emitanaka/edibble with plans to submit to <a href="https://cran.r-project.org/">CRAN</a> in the next couple of months.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(edibble)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p>There are <strong>three types of sensory discrimination tests</strong> that are used by sensory scientists Drs Ciar√°n Forde and Patrick O‚ÄôRiordan in an experiment <em><strong>to see if a story about an alternative to vegemite could sharpen the taste buds and improve the discriminative abilities of Australian consumers</strong></em>. The three sensory discrimination tests are as described below in <span class="citation" data-cites="Williams2021-pa">Williams et al. (<a href="#ref-Williams2021-pa" role="doc-biblioref">2021</a>)</span>:</p>
<blockquote class="blockquote">
<ol type="i">
<li>Triangle test. The consumer is presented with two samples of one product and one sample of the other and asked to pick the odd sample.</li>
<li>Paired preference test. The consumer is presented with a sample of the standard product and the alternative and asked ‚Äòwhich sample do you prefer?‚Äô</li>
<li>Monadic ‚ÄòA not A‚Äô test. Samples of the standard and alternative products are presented to the consumers in a sequential monadic order (one by one) and they are asked ‚Äòis this your normal product?‚Äô</li>
</ol>
</blockquote>
<p>These test are abbreviated as T, PP, and M, respectively. The experimental structure is briefly summarised below:</p>
<ul>
<li>there are two versions of vegemite: normal (N) or spiked (S)</li>
<li>there are 168 consumers in total</li>
<li>half of the consumers tasted three pairs in the paired preference test and the other half tested two triplets in the triangle test</li>
<li>all consumers had six samples in the monadic test</li>
<li>experiment is conducted over 4 days</li>
<li>each consumer taste no more than 12 samples of vegemite</li>
<li>logistics allow only 42 consumers per day</li>
<li>cover story (or lack there of) is shown based on the day</li>
<li>the broad structure of the experiment is shown in Table @ref(tab:table1)</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>From <span class="citation" data-cites="Williams2021-pa">Williams et al. (<a href="#ref-Williams2021-pa" role="doc-biblioref">2021</a>)</span>: broad structure of the vegemite experiment.</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Day</th>
<th style="text-align: left;">1</th>
<th style="text-align: left;">2</th>
<th style="text-align: left;">3</th>
<th style="text-align: left;">4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Cover story</td>
<td style="text-align: left;">no</td>
<td style="text-align: left;">no</td>
<td style="text-align: left;">yes</td>
<td style="text-align: left;">yes</td>
</tr>
<tr class="even">
<td style="text-align: left;">Test</td>
<td style="text-align: left;">T, M</td>
<td style="text-align: left;">PP, M</td>
<td style="text-align: left;">T, M</td>
<td style="text-align: left;">PP, M</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Consumer</td>
<td style="text-align: left;">1-42</td>
<td style="text-align: left;">43-84</td>
<td style="text-align: left;">85-126</td>
<td style="text-align: left;">127-168</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The following is the experimental design description in <span class="citation" data-cites="Williams2021-pa">Williams et al. (<a href="#ref-Williams2021-pa" role="doc-biblioref">2021</a>)</span>:</p>
<blockquote class="blockquote">
<p>Within this structure a number of design features were introduced:</p>
<ol type="i">
<li>Test order. On each day half of the consumers took the sequence of monadic tests first and the other half after either the paired preference or triangle tests.</li>
<li>For the triangle test there are six possible triplets involving the two products (labelled N and S for normal and spiked vegemite respectively), namely: NNS, SNN, NSN, SSN, NSS and SNS. Two of these triplets were presented in sequence to each consumer and so an optimal row‚Äìcolumn design was constructed for six treatments (triplets) in two rows (order of presentation) and 42 columns (consumers). The design generation package CycDesigN (http://www.vsni.co.uk/software/cycdesign/) was used to construct the layout. Furthermore the grouping option of the package was employed to ensure that each consumer sampled each product three times, that is, if the consumer received a triplet with two of the normal vegemite then the second triplet would contain two of the spiked vegemite. Separate randomisations of the design were used for 2 days.</li>
<li>For the paired preference test the normal vegemite in a pair can be presented either first or second. Hence an optimal row‚Äìcolumn design was constructed for two treatments (pair order) in three rows (order of presentation) and 42 columns (consumers). Separate randomisations of the design were used for 2 days.</li>
<li>For the monadic test the six samples, three of each product (normal and spiked), were presented in a different sequential order to each consumer and so there was the chance to study the possibility of carryover effects from successive samples. CycDesigN was used to construct an optimal crossover design for two treatments (product type) in six periods (order of presentation) and 42 subjects (consumers). Separate randomisations of the design were used for 4 days.</li>
</ol>
</blockquote>
<section id="test-order" class="level2">
<h2 class="anchored" data-anchor-id="test-order">Test order</h2>
<blockquote class="blockquote">
<p>On each day half of the consumers took the sequence of monadic tests first and the other half after either the paired preference or triangle tests.</p>
</blockquote>
<p>Recall:</p>
<ul>
<li>experiment is conducted over 4 days</li>
<li>logistics allow only 42 consumers per day</li>
<li>cover story (or lack there of) is shown based on the day</li>
</ul>
<p>At first I couldn‚Äôt tell whether the cover story and the sensory tests (T and PP) were randomised or in systematic order, but in my communication with Emlyn Williams, he let me know it was randomised.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>des1 <span class="ot">&lt;-</span> <span class="fu">design</span>(<span class="st">"sensory evalution"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_units</span>(<span class="at">day =</span> <span class="dv">4</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">consumer =</span> <span class="fu">nested_in</span>(day, <span class="dv">42</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_trts</span>(<span class="at">cover_story =</span> <span class="fu">c</span>(<span class="st">"yes"</span>, <span class="st">"no"</span>),</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">test =</span> <span class="fu">c</span>(<span class="st">"T,M"</span>, <span class="st">"PP,M"</span>),</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">test_first =</span> <span class="fu">c</span>(<span class="st">"T/PP"</span>, <span class="st">"M"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">allot_table</span>(test<span class="sc">:</span>cover_story <span class="sc">~</span> day,</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                    test_first <span class="sc">~</span> consumer)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>des1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># sensory evalution 
# An edibble: 168 x 5
         day    consumer cover_story     test test_first
   &lt;unit(4)&gt; &lt;unit(168)&gt;    &lt;trt(2)&gt; &lt;trt(2)&gt;   &lt;trt(2)&gt;
 1      day1  consumer1          yes      T,M       T/PP
 2      day1  consumer2          yes      T,M       M   
 3      day1  consumer3          yes      T,M       T/PP
 4      day1  consumer4          yes      T,M       T/PP
 5      day1  consumer5          yes      T,M       T/PP
 6      day1  consumer6          yes      T,M       M   
 7      day1  consumer7          yes      T,M       T/PP
 8      day1  consumer8          yes      T,M       M   
 9      day1  consumer9          yes      T,M       M   
10      day1  consumer10         yes      T,M       M   
# ‚Ä¶ with 158 more rows
# ‚Ñπ Use `print(n = ...)` to see more rows</code></pre>
</div>
</div>
<p>You can check the allocation of the cover story and test by nesting it by day:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>des1 <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest_by</span>(day, cover_story, test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 4
# Rowwise:  day, cover_story, test
        day cover_story     test               data
  &lt;unit(4)&gt;    &lt;trt(2)&gt; &lt;trt(2)&gt; &lt;list&lt;tibble[,2]&gt;&gt;
1      day1         yes     T,M            [42 √ó 2]
2      day2         no      PP,M           [42 √ó 2]
3      day3         yes     PP,M           [42 √ó 2]
4      day4         no      T,M            [42 √ó 2]</code></pre>
</div>
</div>
</section>
<section id="triangle-test" class="level2">
<h2 class="anchored" data-anchor-id="triangle-test">Triangle test</h2>
<blockquote class="blockquote">
For the triangle test there are six possible triplets involving the two products (labelled N and S for normal and spiked vegemite respectively), namely: NNS, SNN, NSN, SSN, NSS and SNS. Two of these triplets were presented in sequence to each consumer and so an optimal row‚Äìcolumn design was constructed for six treatments (triplets) in two rows (order of presentation) and 42 columns (consumers)‚Ä¶ if the consumer received a triplet with two of the normal vegemite then the second triplet would contain two of the spiked vegemite. Separate randomisations of the design were used for 2 days.
</blockquote>
<p>Recall:</p>
<ul>
<li>each consumer taste no more than 12 samples of vegemite</li>
<li>logistics allow only 42 consumers per day</li>
</ul>
<p>As every consumer also does the monadic test which uses 6 samples, only 6 samples remain for the triangle test. The product lineups took me a while to figure it out ‚Äì the part that tripped me up was that the two lineups (out of NNS, SNN, NSN, SSN, NSS and SNS) that was presented to the consumer sequentially had to have the major product swapped, so you can‚Äôt choose something like NNS and NSN because both lineups have the major product as N. This precludes from just two random selections from NNS, SNN, NSN, SSN, NSS and SNS, and requires a conditional randomisation.</p>
<p>I decided to think of this as a two step process:</p>
<ol type="1">
<li>choose the main product, and</li>
<li>choose out of the sequences XXO, XOX and OXX where X denotes the major product.</li>
</ol>
<p>Since the product lineup is nested within the consumer, the major product allocation in <code>edibble</code> below automatically treats <code>consumer</code> as a block and in the assignment, it will try to ensure the major product is different in the two lineups for each consumer.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>des2 <span class="ot">&lt;-</span> <span class="fu">design</span>(<span class="st">"triangle test"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_units</span>(<span class="at">day =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>),</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">consumer =</span> <span class="fu">nested_in</span>(day, <span class="dv">42</span>),</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">product_lineup =</span> <span class="fu">nested_in</span>(consumer, <span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_trts</span>(<span class="at">major_product =</span> <span class="fu">c</span>(<span class="st">"spiked"</span>, <span class="st">"normal"</span>),</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">sequence =</span> <span class="fu">c</span>(<span class="st">"XXO"</span>, <span class="st">"XOX"</span>, <span class="st">"OXX"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">allot_table</span>(major_product <span class="sc">~</span> product_lineup,</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>                     sequence <span class="sc">~</span> product_lineup)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>des2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># triangle test 
# An edibble: 168 x 5
         day   consumer   product_lineup major_product sequence
   &lt;unit(2)&gt; &lt;unit(84)&gt;      &lt;unit(168)&gt;      &lt;trt(2)&gt; &lt;trt(3)&gt;
 1         1  consumer1 product_lineup1         normal      XOX
 2         1  consumer1 product_lineup2         spiked      OXX
 3         1  consumer2 product_lineup3         normal      XOX
 4         1  consumer2 product_lineup4         spiked      OXX
 5         1  consumer3 product_lineup5         normal      XXO
 6         1  consumer3 product_lineup6         spiked      XOX
 7         1  consumer4 product_lineup7         spiked      XXO
 8         1  consumer4 product_lineup8         normal      XOX
 9         1  consumer5 product_lineup9         normal      OXX
10         1  consumer5 product_lineup10        spiked      XOX
# ‚Ä¶ with 158 more rows
# ‚Ñπ Use `print(n = ...)` to see more rows</code></pre>
</div>
</div>
<p>I could alternatively design the above as a row-column design.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>des2alt <span class="ot">&lt;-</span> <span class="fu">design</span>(<span class="st">"triangle test"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_units</span>(<span class="at">day =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>),</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">consumer =</span> <span class="fu">nested_in</span>(day, <span class="dv">42</span>),</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">order =</span> <span class="dv">2</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">product_lineup =</span> <span class="fu">crossed_by</span>(consumer, order)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_trts</span>(<span class="at">major_product =</span> <span class="fu">c</span>(<span class="st">"spiked"</span>, <span class="st">"normal"</span>),</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">sequence =</span> <span class="fu">c</span>(<span class="st">"XXO"</span>, <span class="st">"XOX"</span>, <span class="st">"OXX"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">allot_table</span>(major_product <span class="sc">~</span> product_lineup,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>                     sequence <span class="sc">~</span> product_lineup)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>deggust<span class="sc">::</span><span class="fu">autoplot</span>(des2alt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="sensory-discrimination-tests_files/figure-html/des2alt-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="paired-test" class="level2">
<h2 class="anchored" data-anchor-id="paired-test">Paired test</h2>
<blockquote class="blockquote">
For the paired preference test the normal vegemite in a pair can be presented either first or second. Hence an optimal row‚Äìcolumn design was constructed for two treatments (pair order) in three rows (order of presentation) and 42 columns (consumers). Separate randomisations of the design were used for 2 days.
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>des3 <span class="ot">&lt;-</span> <span class="fu">design</span>(<span class="st">"paired test"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_units</span>(<span class="at">day =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">consumer =</span> <span class="fu">nested_in</span>(day, <span class="dv">42</span>),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">order =</span> <span class="dv">3</span>,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">product_lineup =</span> <span class="fu">crossed_by</span>(consumer, order)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_trts</span>(<span class="at">product_order =</span> <span class="fu">c</span>(<span class="st">"SN"</span>, <span class="st">"NS"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">allot_table</span>(product_order <span class="sc">~</span> product_lineup)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>deggust<span class="sc">::</span><span class="fu">autoplot</span>(des3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="sensory-discrimination-tests_files/figure-html/des3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="monadic-test" class="level2">
<h2 class="anchored" data-anchor-id="monadic-test">Monadic test</h2>
<blockquote class="blockquote">
For the monadic test the six samples, three of each product (normal and spiked), were presented in a different sequential order to each consumer and so there was the chance to study the possibility of carryover effects from successive samples.
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>des4 <span class="ot">&lt;-</span> <span class="fu">design</span>(<span class="st">"monadic test"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_units</span>(<span class="at">day =</span> <span class="dv">4</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">consumer =</span> <span class="fu">nested_in</span>(day, <span class="dv">42</span>),</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">order =</span> <span class="dv">6</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">product_lineup =</span> <span class="fu">crossed_by</span>(consumer, order)) <span class="sc">%&gt;%</span> </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_trts</span>(<span class="at">product =</span> <span class="fu">c</span>(<span class="st">"spiked"</span>, <span class="st">"normal"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">allot_table</span>(product <span class="sc">~</span> product_lineup)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">deggust.nnode_max =</span> <span class="cn">Inf</span>)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>deggust<span class="sc">::</span><span class="fu">autoplot</span>(des4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="sensory-discrimination-tests_files/figure-html/des4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>So you might be wondering if Australians can indeed distinguish the true taste of vegemite? Well this blog post is not about the analysis but the experimental design. A short analysis is provided, however, in <span class="citation" data-cites="Williams2021-pa">Williams et al. (<a href="#ref-Williams2021-pa" role="doc-biblioref">2021</a>)</span> ‚Ä¶ and the answer is yes Australians knows their vegemite üòâ</p>
</section>
<section id="acknowldegement" class="level2">
<h2 class="anchored" data-anchor-id="acknowldegement">Acknowldegement</h2>
<p>I want to thank Emyln for being so prompt in answering my questions about this experiment and providing the data (which I didn‚Äôt end up using in this blog post), that was mistakenly missing in the initial publication but <a href="https://onlinelibrary.wiley.com/doi/10.1111/anzs.12364">available now on the website</a>.</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-Williams2021-pa" class="csl-entry" role="doc-biblioentry">
Williams, E R, C G Forde, J Imaki, and K Oelkers. 2021. <span>‚ÄúExperimental Design in Practice: The Importance of Blocking and Treatment Structures.‚Äù</span> <em>Australian &amp; New Zealand Journal of Statistics</em> 63 (3): 455‚Äì67. <a href="https://doi.org/10.1111/anzs.12343">https://doi.org/10.1111/anzs.12343</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left"><b>Dr.&nbsp;Emi Tanaka</b> <br> Senior Lecturer in Statistics<br> Monash University, Australia<br> ¬© Copyright 2021-2023 Emi Tanaka</div>   
    <div class="nav-footer-right"><i class="fab fa-twitter"></i> <a href="https://twitter.com/statsgen"><span class="citation" data-cites="statsgen">(</span></a><a href="#ref-statsgen" role="doc-biblioref"><strong>statsgen?</strong></a>)</div>
  </div>
</footer>
<link rel="stylesheet" href="../../assets/syntax-highlight.css">
<link rel="stylesheet" href="../../assets/fontawesome-free-6.1.1-web/css/all.min.css">
<script src="../../assets/fontawesome-free-6.1.1-web/js/all.min.js"></script>



</body></html>